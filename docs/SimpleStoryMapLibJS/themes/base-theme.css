/**
 * SimpleStoryMapLibJS Base Theme System
 * CSS custom properties for flexible theming
 * Users can override these variables to customize appearance
 */

/* Base theme variables */
:root {
  /* Colors */
  --storymap-primary-color: #333333;
  --storymap-secondary-color: #666666;
  --storymap-accent-color: #ff0000;
  --storymap-background-color: #ffffff;
  --storymap-surface-color: #f8f9fa;
  --storymap-text-color: #333333;
  --storymap-text-muted: #666666;
  --storymap-border-color: #e0e0e0;
  --storymap-shadow-color: rgba(0, 0, 0, 0.1);

  /* Typography */
  --storymap-font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
  --storymap-font-size-base: 16px;
  --storymap-font-size-sm: 14px;
  --storymap-font-size-lg: 18px;
  --storymap-font-size-xl: 24px;
  --storymap-font-size-xxl: 32px;
  --storymap-line-height-base: 1.6;
  --storymap-line-height-tight: 1.4;
  --storymap-line-height-loose: 1.8;

  /* Spacing */
  --storymap-spacing-xs: 4px;
  --storymap-spacing-sm: 8px;
  --storymap-spacing-md: 16px;
  --storymap-spacing-lg: 24px;
  --storymap-spacing-xl: 32px;
  --storymap-spacing-xxl: 48px;

  /* Layout */
  --storymap-container-max-width: 1200px;
  --storymap-container-padding: 20px;
  --storymap-border-radius: 8px;
  --storymap-border-radius-sm: 4px;
  --storymap-border-radius-lg: 12px;

  /* Map */
  --storymap-map-height: 400px;
  --storymap-map-border-radius: var(--storymap-border-radius);
  --storymap-map-shadow: 0 2px 10px var(--storymap-shadow-color);

  /* Markers */
  --storymap-marker-size: 10px;
  --storymap-marker-size-active: 12px;
  --storymap-marker-color: #888888;
  --storymap-marker-color-active: var(--storymap-accent-color);
  --storymap-marker-stroke-width: 2px;
  --storymap-marker-stroke-width-active: 3px;
  --storymap-marker-stroke-color: #ffffff;

  /* Lines */
  --storymap-line-width: 2px;
  --storymap-line-width-active: 3px;
  --storymap-line-color: #000000;
  --storymap-line-color-active: var(--storymap-accent-color);
  --storymap-line-dasharray: 2 2;

  /* Transitions */
  --storymap-transition-fast: 0.15s ease;
  --storymap-transition-base: 0.3s ease;
  --storymap-transition-slow: 0.5s ease;
  --storymap-slide-transition-duration: 0.5s;
  --storymap-slide-transition-easing: ease-in-out;

  /* Shadows */
  --storymap-shadow-sm: 0 1px 3px var(--storymap-shadow-color);
  --storymap-shadow-md: 0 4px 6px var(--storymap-shadow-color);
  --storymap-shadow-lg: 0 10px 15px var(--storymap-shadow-color);
  --storymap-shadow-xl: 0 20px 25px var(--storymap-shadow-color);

  /* Z-index scale */
  --storymap-z-dropdown: 1000;
  --storymap-z-modal: 1050;
  --storymap-z-tooltip: 1100;
  --storymap-z-lightbox: 1200;
}

/* Dark theme (auto-applied when user prefers dark mode) */
@media (prefers-color-scheme: dark) {
  :root {
    --storymap-primary-color: #ffffff;
    --storymap-secondary-color: #cccccc;
    --storymap-accent-color: #ff4444;
    --storymap-background-color: #1a1a1a;
    --storymap-surface-color: #2d2d2d;
    --storymap-text-color: #ffffff;
    --storymap-text-muted: #999999;
    --storymap-border-color: #404040;
    --storymap-shadow-color: rgba(0, 0, 0, 0.3);
  }
}

/* High contrast theme (auto-applied when user prefers high contrast) */
@media (prefers-contrast: high) {
  :root {
    --storymap-primary-color: #000000;
    --storymap-secondary-color: #000000;
    --storymap-accent-color: #000000;
    --storymap-background-color: #ffffff;
    --storymap-text-color: #000000;
    --storymap-border-color: #000000;
    --storymap-shadow-color: rgba(0, 0, 0, 0.5);
  }
}

/* Reduced motion (respects user preference) */
@media (prefers-reduced-motion: reduce) {
  :root {
    --storymap-transition-fast: 0.01ms;
    --storymap-transition-base: 0.01ms;
    --storymap-transition-slow: 0.01ms;
    --storymap-slide-transition-duration: 0.01ms;
  }

  * {
    animation-duration: 0.01ms !important;
    transition-duration: 0.01ms !important;
  }
}

/* Theme utility classes */
.theme-light {
  --storymap-primary-color: #333333;
  --storymap-secondary-color: #666666;
  --storymap-accent-color: #ff0000;
  --storymap-background-color: #ffffff;
  --storymap-surface-color: #f8f9fa;
  --storymap-text-color: #333333;
  --storymap-text-muted: #666666;
  --storymap-border-color: #e0e0e0;
  --storymap-shadow-color: rgba(0, 0, 0, 0.1);
}

.theme-dark {
  --storymap-primary-color: #ffffff;
  --storymap-secondary-color: #cccccc;
  --storymap-accent-color: #ff4444;
  --storymap-background-color: #1a1a1a;
  --storymap-surface-color: #2d2d2d;
  --storymap-text-color: #ffffff;
  --storymap-text-muted: #999999;
  --storymap-border-color: #404040;
  --storymap-shadow-color: rgba(0, 0, 0, 0.3);
}

.theme-blue {
  --storymap-primary-color: #1e40af;
  --storymap-secondary-color: #3b82f6;
  --storymap-accent-color: #3b82f6;
  --storymap-background-color: #f8fafc;
  --storymap-surface-color: #ffffff;
  --storymap-text-color: #1e293b;
  --storymap-text-muted: #64748b;
  --storymap-border-color: #e2e8f0;
  --storymap-shadow-color: rgba(59, 130, 246, 0.1);
}

.theme-green {
  --storymap-primary-color: #166534;
  --storymap-secondary-color: #16a34a;
  --storymap-accent-color: #16a34a;
  --storymap-background-color: #f0fdf4;
  --storymap-surface-color: #ffffff;
  --storymap-text-color: #14532d;
  --storymap-text-muted: #15803d;
  --storymap-border-color: #bbf7d0;
  --storymap-shadow-color: rgba(22, 163, 74, 0.1);
}

.theme-purple {
  --storymap-primary-color: #7c3aed;
  --storymap-secondary-color: #8b5cf6;
  --storymap-accent-color: #8b5cf6;
  --storymap-background-color: #faf5ff;
  --storymap-surface-color: #ffffff;
  --storymap-text-color: #581c87;
  --storymap-text-muted: #7c3aed;
  --storymap-border-color: #e9d5ff;
  --storymap-shadow-color: rgba(139, 92, 246, 0.1);
}

/* Responsive breakpoints */
:root {
  --breakpoint-sm: 640px;
  --breakpoint-md: 768px;
  --breakpoint-lg: 1024px;
  --breakpoint-xl: 1280px;
}

@media (max-width: 767px) {
  :root {
    --storymap-container-padding: 16px;
    --storymap-font-size-xl: 20px;
    --storymap-font-size-xxl: 24px;
    --storymap-spacing-lg: 16px;
    --storymap-spacing-xl: 24px;
  }
}

@media (max-width: 480px) {
  :root {
    --storymap-container-padding: 12px;
    --storymap-font-size-lg: 16px;
    --storymap-font-size-xl: 18px;
    --storymap-spacing-md: 12px;
    --storymap-spacing-lg: 16px;
  }
}
